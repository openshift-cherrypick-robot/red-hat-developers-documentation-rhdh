[id="proc-techdocs-configure-odf-operator_{context}"]

= Configuring {odf-name} with the Operator

You can use the Operator to configure {odf-name} to store files generated by the TechDocs plugin.

.Prerequisites

* An {ocp-short} administrator has installed the {odf-name} Operator in {ocp-brand-name}. For more information, see link:https://access.redhat.com/documentation/en-us/red_hat_openshift_data_foundation/4.15/html/deploying_openshift_data_foundation_using_amazon_web_services/deploy-using-dynamic-storage-devices-aws#installing-openshift-data-foundation-operator-using-the-operator-hub_cloud-storage[Installing {company-name} {odf-name} Operator] in the {ocp-short} documentation.
* An {ocp-short} administrator has created an {odf-name} cluster and configured the `StorageSystem`. For more information, see link:https://access.redhat.com/documentation/en-us/red_hat_openshift_data_foundation/4.15/html/deploying_openshift_data_foundation_using_amazon_web_services/deploy-using-dynamic-storage-devices-aws#creating-an-openshift-data-foundation-service_cloud-storage[Creating an {odf-name} cluster] in the {ocp-short} documentation.

.Procedure

. In the OpenShift Container Platform web console, create an `ObjectBucketClaim` CR where the generated TechDocs files are stored. For example:
+
[source]
----
apiVersion: objectbucket.io/v1alpha1
kind: ObjectBucketClaim
metadata:
  name: rhdh-bucket-claim
spec:
  generateBucketName: rhdh-bucket-
  storageClassName: openshift-storage.noobaa.io
----
+
[NOTE]
====
Creating the {product-short} `ObjectBucketClaim` CR automatically creates both the Developer Hub `ObjectBucketClaim` config map and secret. The config map and secret have the same name as the `ObjetBucketClaim` CR.
====
+
. In the {product-short} `ObjectBucketClaim` CR, enter the name of the {product-short} `ObjectBucketClaim` config map as the value for the `spec.application.extraEnvs.configMaps` field and enter the {product-short} `ObjectBucketClaim` secret name as the value for the `spec.application.extraEnvs.secrets` field. For example:
+
[source]
----
extraEnvs:
  configMaps:
    - name: <rhdh_bucket_claim_name>
  secrets:
    - name: <rhdh_bucket_claim_name>
----
