[id="proc-add-custom-app-config-file-ocp_{context}"]
= Adding a custom application configuration file to {ocp-short} using the Operator

.Prerequisites
* You have an active {ocp-brand-name} account.

.Procedure
. From the *Developer* perspective, select the *ConfigMaps* tab.
. Click *Create ConfigMap*.
. Select the *YAML view* option in *Configure via* and make the changes to the file, if necessary.
. Click *Create*.
. Select the *Secrets* tab.
. Click *Create Key/value Secret*.
. Name the secret `secrets-rhdh`.
. Add a key named `BACKEND_SECRET` and a base64 encoded string as a value. Use a unique value for each {product} instance. For example, you can use the following command to generate a key from your terminal:
+
[source,yaml]
----
node -p 'require("crypto").randomBytes(24).toString("base64")'
----

. Click *Create*.
. Select the *Topology* view.
. Click the overflow menu for the {product} instance that you want to use and select *Edit Backstage* to load the YAML view of the {product} instance.
+
image::rhdh/operator-install-2.png[]

. Add the `spec.application.appConfig.configMaps` and `spec.application.extraEnvs.secrets` fields to the custom resource. For example:
+
[source, yaml]
----
spec:
  application:
    appConfig:
      mountPath: /opt/app-root/src
      configMaps:
         - name: app-config-rhdh
    extraEnvs:
      secrets:
         - name: secrets-rhdh
    extraFiles:
      mountPath: /opt/app-root/src
    replicas: 1
    route:
      enabled: true
  database:
    enableLocalDb: true
----
. Click *Save*.
. Navigate back to the *Topology* view and wait for the {product} pod to start.
. Click the *Open URL* icon to start using the {product} platform with the new configuration changes.

.Additional resources
* For more information about roles and responsibilities in {product-short}, see xref:con-rbac-overview_{context}[Role-Based Access Control (RBAC) in {product}] in the Administration Guide for {product}.
